<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Node.js | Code Life]]></title>
  <link href="http://blog.code-life.net/blog/categories/node-dot-js/atom.xml" rel="self"/>
  <link href="http://blog.code-life.net/"/>
  <updated>2014-08-19T01:17:07+09:00</updated>
  <id>http://blog.code-life.net/</id>
  <author>
    <name><![CDATA[noto]]></name>
    <email><![CDATA[noto.code.life@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[node.jsにexpressをインストールしてみた]]></title>
    <link href="http://blog.code-life.net/blog/2011/10/11/install-node-js-express/"/>
    <updated>2011-10-11T00:00:00+09:00</updated>
    <id>http://blog.code-life.net/blog/2011/10/11/install-node-js-express</id>
    <content type="html"><![CDATA[<p>chakemiです。三連休で完全に生活リズムが崩れてしまいました。</p>

<p>本日はnode.jsでwebアプリを作成する際に、便利なフレームワークexpressを
インストールしてみます。</p>

<!--more-->


<p>node.jsやパッケージマネージャーのインストールは<a href="/blog/2011/09/10/start-a-websocket">こちら</a>を参考に。</p>

<h2>構築環境</h2>

<ul>
<li>CentOS5.5</li>
<li>node.js v0.4.11</li>
<li>npm 1.0.27
※node自体のバージョン管理ツールも入れておけばよかったと今頃気づきました。。。</li>
</ul>


<p>ではさっそくnpmでexpressをインストールしてみます。
-gオプションは前にも書きましたが、コマンドを提供しているパッケージをインストールする際
付与することでグローバルインストールとなりシンボリックリンクを張ったような形で使用出来ます。
って、こんな説明でいいのかな？</p>

<p><code>
[root@localhost ~]# npm install -g express
/usr/local/bin/express -&amp;gt; /usr/local/lib/node_modules/express/bin/express
express@2.4.7 /usr/local/lib/node_modules/express
├── mime@1.2.4
├── qs@0.3.1
├── connect@1.7.1
└── mkdirp@0.0.7
</code></p>

<p>インストールが無事完了したので、expressでtest01というアプリを作成してみます。</p>

<p><code>
[root@localhost ~]# express test01
   create : test01
   create : test01/package.json
   create : test01/app.js
   create : test01/views
   create : test01/views/layout.jade
   create : test01/views/index.jade
   create : test01/public/javascripts
   create : test01/public/images
   create : test01/public/stylesheets
   create : test01/public/stylesheets/style.css
</code></p>

<p>作成したtest01ディレクトリの配下にwebアプリのひな形が作成されますので、
必要なモジュールをインストールします。</p>

<p>必要なモジュールの情報は[package.json]に纏められているので
下記のようにしてインストール。</p>

<p><code>
[root@localhost ~]# cd test01/
[root@localhost test01]# npm install
</code></p>

<p>※インストールの際、詳細を見たい場合、-dオプションをつけると
下記のようにnpmの細かい情報が見れます。</p>

<p>```
[root@localhost test01]# npm install -d
npm info it worked if it ends with ok
npm info using <a href="&#x6d;&#x61;&#x69;&#x6c;&#x74;&#111;&#58;&#110;&#x70;&#109;&#64;&#49;&#46;&#48;&#x2e;&#x32;&#55;">&#110;&#x70;&#109;&#x40;&#x31;&#46;&#x30;&#46;&#x32;&#x37;</a>
npm info using <a href="&#109;&#x61;&#x69;&#108;&#x74;&#111;&#x3a;&#110;&#x6f;&#x64;&#101;&#x40;&#118;&#48;&#x2e;&#52;&#46;&#x31;&#x31;">&#x6e;&#111;&#100;&#x65;&#64;&#x76;&#48;&#46;&#52;&#46;&#x31;&#49;</a>
npm info preinstall <a href="&#109;&#x61;&#x69;&#108;&#116;&#111;&#x3a;&#97;&#x70;&#112;&#108;&#x69;&#99;&#x61;&#116;&#x69;&#x6f;&#110;&#45;&#x6e;&#97;&#109;&#101;&#64;&#48;&#46;&#48;&#46;&#49;">&#x61;&#112;&#112;&#108;&#105;&#99;&#97;&#116;&#x69;&#111;&#x6e;&#x2d;&#x6e;&#97;&#x6d;&#101;&#x40;&#48;&#x2e;&#x30;&#x2e;&#49;</a>
npm info addNamed [ &lsquo;jade&rsquo;, &lsquo;&gt;= 0.0.1&rsquo; ]
npm info addNamed [ &lsquo;express&rsquo;, &lsquo;2.4.7&rsquo; ]
npm info fetch <a href="https://registry.npmjs.org/jade/-/jade-0.16.2.tgz">https://registry.npmjs.org/jade/-/jade-0.16.2.tgz</a>
npm info shasum 514de77b161b9101a9a65eb4f1553fcf395c618a
npm info shasum /tmp/npm-1315676593472/1315676593472-0.3313761476892978/tmp.tgz
npm info shasum 0db4d4c19de0997390d9716e7def76eb5d248d09
npm info shasum /root/.npm/jade/0.16.2/package.tgz
npm info into /root/test01 <a href="&#x6d;&#x61;&#105;&#x6c;&#x74;&#111;&#x3a;&#101;&#120;&#112;&#114;&#101;&#x73;&#115;&#64;&#x32;&#46;&#x34;&#46;&#55;">&#101;&#x78;&#112;&#114;&#x65;&#x73;&#115;&#64;&#50;&#x2e;&#x34;&#x2e;&#x37;</a>
npm info into /root/test01 <a href="&#x6d;&#97;&#105;&#108;&#x74;&#111;&#58;&#106;&#x61;&#x64;&#x65;&#x40;&#x30;&#46;&#49;&#x36;&#46;&#50;">&#x6a;&#x61;&#100;&#x65;&#64;&#48;&#46;&#x31;&#54;&#x2e;&#50;</a>
npm info installOne <a href="&#109;&#97;&#x69;&#108;&#x74;&#x6f;&#58;&#x65;&#120;&#112;&#114;&#x65;&#x73;&#115;&#64;&#x32;&#46;&#x34;&#46;&#55;">&#x65;&#x78;&#112;&#114;&#101;&#115;&#115;&#x40;&#x32;&#46;&#x34;&#x2e;&#55;</a>
npm info installOne <a href="&#109;&#x61;&#x69;&#108;&#x74;&#x6f;&#58;&#x6a;&#x61;&#x64;&#101;&#x40;&#x30;&#46;&#x31;&#x36;&#46;&#x32;">&#106;&#x61;&#100;&#101;&#x40;&#48;&#x2e;&#49;&#x36;&#x2e;&#x32;</a>
npm info unbuild /root/test01/node_modules/express
npm info unbuild /root/test01/node_modules/jade
npm info preinstall <a href="&#109;&#x61;&#105;&#108;&#x74;&#111;&#x3a;&#101;&#120;&#x70;&#x72;&#x65;&#x73;&#x73;&#64;&#x32;&#46;&#x34;&#x2e;&#55;">&#x65;&#x78;&#112;&#114;&#101;&#115;&#x73;&#x40;&#50;&#46;&#52;&#46;&#x37;</a>
npm info addNamed [ &lsquo;connect&rsquo;, &lsquo;1.7.x&rsquo; ]
npm info addNamed [ &lsquo;mime&rsquo;, &lsquo;&gt;= 0.0.1&rsquo; ]
npm info addNamed [ &lsquo;qs&rsquo;, &lsquo;&gt;= 0.3.1&rsquo; ]
npm info addNamed [ &lsquo;mkdirp&rsquo;, &lsquo;0.0.7&rsquo; ]
npm info preinstall <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#x6a;&#97;&#x64;&#101;&#x40;&#48;&#46;&#x31;&#x36;&#x2e;&#x32;">&#x6a;&#97;&#x64;&#x65;&#x40;&#48;&#46;&#49;&#54;&#46;&#50;</a>
npm info addNamed [ &lsquo;commander&rsquo;, &lsquo;0.1.0&rsquo; ]
npm info addNamed [ &lsquo;mkdirp&rsquo;, &lsquo;&gt;= 0.0.7&rsquo; ]
npm info fetch <a href="https://registry.npmjs.org/commander/-/commander-0.1.0.tgz">https://registry.npmjs.org/commander/-/commander-0.1.0.tgz</a>
npm info into /root/test01/node_modules/express <a href="&#109;&#x61;&#x69;&#x6c;&#116;&#x6f;&#x3a;&#109;&#107;&#100;&#105;&#x72;&#112;&#x40;&#x30;&#46;&#x30;&#x2e;&#55;">&#109;&#107;&#100;&#105;&#x72;&#x70;&#64;&#x30;&#x2e;&#48;&#x2e;&#55;</a>
npm info into /root/test01/node_modules/express <a href="&#109;&#97;&#x69;&#x6c;&#116;&#111;&#58;&#x63;&#111;&#110;&#x6e;&#101;&#x63;&#x74;&#x40;&#x31;&#46;&#55;&#x2e;&#49;">&#99;&#111;&#110;&#x6e;&#x65;&#99;&#116;&#x40;&#49;&#x2e;&#x37;&#x2e;&#49;</a>
npm info into /root/test01/node_modules/express <a href="&#109;&#97;&#105;&#108;&#x74;&#x6f;&#x3a;&#x6d;&#x69;&#x6d;&#101;&#64;&#49;&#46;&#50;&#x2e;&#x34;">&#109;&#x69;&#x6d;&#x65;&#x40;&#x31;&#x2e;&#x32;&#46;&#52;</a>
npm info into /root/test01/node_modules/express <a href="&#x6d;&#x61;&#x69;&#x6c;&#x74;&#x6f;&#x3a;&#x71;&#115;&#x40;&#48;&#46;&#51;&#x2e;&#49;">&#113;&#115;&#64;&#48;&#x2e;&#51;&#46;&#49;</a>
npm info installOne <a href="&#x6d;&#x61;&#x69;&#108;&#x74;&#x6f;&#58;&#x6d;&#107;&#x64;&#105;&#x72;&#112;&#x40;&#48;&#46;&#48;&#x2e;&#55;">&#109;&#x6b;&#100;&#105;&#x72;&#112;&#x40;&#x30;&#x2e;&#x30;&#46;&#x37;</a></p>

<p>～～～省略～～～</p>

<p>npm info build /root/test01/node_modules/jade/node_modules/mkdirp
npm info linkStuff <a href="&#109;&#x61;&#x69;&#x6c;&#116;&#111;&#x3a;&#x6d;&#107;&#x64;&#x69;&#x72;&#x70;&#x40;&#x30;&#x2e;&#x30;&#x2e;&#55;">&#x6d;&#107;&#100;&#x69;&#114;&#112;&#64;&#x30;&#x2e;&#x30;&#x2e;&#55;</a>
npm info install <a href="&#109;&#x61;&#x69;&#x6c;&#x74;&#x6f;&#58;&#x6d;&#x6b;&#x64;&#105;&#114;&#x70;&#x40;&#48;&#46;&#48;&#x2e;&#55;">&#x6d;&#x6b;&#100;&#x69;&#x72;&#112;&#x40;&#x30;&#x2e;&#x30;&#46;&#55;</a>
npm info postinstall <a href="&#x6d;&#x61;&#x69;&#108;&#x74;&#x6f;&#58;&#109;&#107;&#100;&#105;&#x72;&#x70;&#64;&#x30;&#x2e;&#48;&#46;&#55;">&#109;&#x6b;&#100;&#x69;&#x72;&#x70;&#64;&#48;&#46;&#x30;&#46;&#55;</a>
npm info build /root/test01/node_modules/jade
npm info linkStuff <a href="&#109;&#97;&#105;&#108;&#x74;&#x6f;&#x3a;&#x6a;&#x61;&#x64;&#x65;&#64;&#48;&#x2e;&#x31;&#x36;&#46;&#x32;">&#x6a;&#97;&#x64;&#101;&#x40;&#48;&#x2e;&#x31;&#54;&#x2e;&#x32;</a>
npm info install <a href="&#109;&#97;&#x69;&#108;&#116;&#111;&#x3a;&#x6a;&#x61;&#100;&#101;&#64;&#48;&#x2e;&#49;&#x36;&#46;&#x32;">&#x6a;&#97;&#x64;&#x65;&#x40;&#x30;&#46;&#x31;&#54;&#46;&#x32;</a>
npm info postinstall <a href="&#x6d;&#x61;&#x69;&#x6c;&#116;&#111;&#x3a;&#106;&#x61;&#100;&#x65;&#64;&#x30;&#x2e;&#49;&#54;&#x2e;&#x32;">&#106;&#x61;&#x64;&#101;&#64;&#48;&#x2e;&#x31;&#x36;&#46;&#x32;</a>
npm info build /root/test01
npm info linkStuff <a href="&#x6d;&#x61;&#105;&#108;&#x74;&#111;&#58;&#x61;&#x70;&#x70;&#108;&#105;&#99;&#97;&#x74;&#105;&#111;&#x6e;&#x2d;&#110;&#x61;&#109;&#x65;&#64;&#48;&#x2e;&#x30;&#x2e;&#49;">&#97;&#112;&#x70;&#x6c;&#x69;&#x63;&#97;&#x74;&#105;&#x6f;&#110;&#x2d;&#110;&#97;&#x6d;&#101;&#x40;&#x30;&#x2e;&#48;&#x2e;&#x31;</a>
npm info install <a href="&#109;&#x61;&#105;&#108;&#116;&#x6f;&#x3a;&#x61;&#112;&#x70;&#108;&#x69;&#x63;&#x61;&#x74;&#x69;&#111;&#x6e;&#x2d;&#110;&#97;&#x6d;&#x65;&#x40;&#x30;&#46;&#x30;&#46;&#x31;">&#97;&#x70;&#x70;&#x6c;&#x69;&#x63;&#x61;&#x74;&#105;&#x6f;&#x6e;&#45;&#x6e;&#97;&#x6d;&#101;&#x40;&#48;&#46;&#48;&#x2e;&#49;</a>
npm info postinstall <a href="&#109;&#97;&#x69;&#108;&#116;&#111;&#x3a;&#97;&#x70;&#x70;&#108;&#105;&#99;&#x61;&#x74;&#105;&#111;&#x6e;&#x2d;&#x6e;&#x61;&#109;&#101;&#64;&#48;&#x2e;&#x30;&#46;&#49;">&#97;&#112;&#112;&#x6c;&#105;&#99;&#x61;&#116;&#x69;&#x6f;&#x6e;&#45;&#x6e;&#x61;&#x6d;&#x65;&#64;&#x30;&#x2e;&#x30;&#46;&#x31;</a>
<a href="&#x6d;&#97;&#x69;&#x6c;&#116;&#111;&#58;&#101;&#120;&#x70;&#114;&#x65;&#115;&#115;&#x40;&#x32;&#46;&#x34;&#46;&#x37;">&#x65;&#120;&#112;&#114;&#x65;&#115;&#x73;&#64;&#50;&#x2e;&#x34;&#x2e;&#x37;</a> ./node_modules/express
├── <a href="&#109;&#97;&#x69;&#x6c;&#x74;&#x6f;&#x3a;&#109;&#107;&#100;&#105;&#114;&#112;&#x40;&#x30;&#x2e;&#x30;&#46;&#55;">&#x6d;&#x6b;&#x64;&#105;&#x72;&#112;&#x40;&#x30;&#46;&#48;&#46;&#x37;</a>
├── <a href="&#x6d;&#x61;&#x69;&#108;&#116;&#111;&#x3a;&#109;&#105;&#109;&#101;&#x40;&#49;&#x2e;&#50;&#x2e;&#52;">&#109;&#x69;&#109;&#x65;&#64;&#49;&#x2e;&#x32;&#x2e;&#52;</a>
├── <a href="&#x6d;&#97;&#x69;&#108;&#x74;&#111;&#x3a;&#x71;&#115;&#64;&#48;&#46;&#51;&#46;&#49;">&#x71;&#115;&#x40;&#x30;&#x2e;&#x33;&#46;&#x31;</a>
└── <a href="&#x6d;&#x61;&#x69;&#108;&#116;&#111;&#x3a;&#x63;&#x6f;&#x6e;&#110;&#101;&#99;&#116;&#x40;&#x31;&#46;&#x37;&#46;&#49;">&#99;&#111;&#110;&#x6e;&#x65;&#x63;&#x74;&#64;&#49;&#x2e;&#x37;&#46;&#49;</a>
<a href="&#x6d;&#97;&#x69;&#x6c;&#x74;&#111;&#x3a;&#x6a;&#97;&#x64;&#x65;&#64;&#48;&#x2e;&#49;&#54;&#x2e;&#50;">&#106;&#x61;&#100;&#x65;&#64;&#x30;&#46;&#x31;&#x36;&#x2e;&#50;</a> ./node_modules/jade
├── <a href="&#x6d;&#97;&#x69;&#x6c;&#x74;&#x6f;&#x3a;&#x63;&#111;&#109;&#x6d;&#x61;&#x6e;&#x64;&#x65;&#114;&#x40;&#x30;&#x2e;&#x31;&#x2e;&#x30;">&#x63;&#x6f;&#x6d;&#109;&#x61;&#110;&#x64;&#x65;&#x72;&#x40;&#x30;&#46;&#49;&#46;&#x30;</a>
└── <a href="&#x6d;&#x61;&#x69;&#x6c;&#116;&#111;&#x3a;&#x6d;&#107;&#x64;&#105;&#x72;&#x70;&#x40;&#x30;&#46;&#48;&#46;&#x37;">&#109;&#x6b;&#100;&#x69;&#114;&#x70;&#64;&#x30;&#x2e;&#x30;&#x2e;&#x37;</a>
npm info ok
```</p>

<p>モジュールも無事インストール出来たようで
test01ディレクトリにnode_modulesディレクトリが作成されました。</p>

<p><code>
drwxr-xr-x  5 root root 4096  10月 11 22:43 .
drwxr-xr-x 10 root root 4096  10月 11 22:42 ..
-rw-r--r--  1 root root  812  10月 11 22:42 app.js
drwxr-xr-x  5 root root 4096  10月 11 22:43 node_modules
-rw-r--r--  1 root root  153  10月 11 22:42 package.json
drwxr-xr-x  5 root root 4096  10月 11 22:42 public
drwxr-xr-x  2 root root 4096  10月 11 22:42 views
</code></p>

<p>後は、app.jsを実行し動作を確認してみます。</p>

<p><code>
[root@localhost test01]# node app.js
Express server listening on port 3000 in development mode
</code></p>

<p>コンソールに待受ポートを示したメッセージが表示されたら
ブラウザで、http://localhost:3000にアクセスします。</p>


<p><img src="/images/2011/10/express.jpg" width="242" height="214"></p>

<p>上のように表示され無事、作成出来ました。</p>

<p>expressはRubyで使われるフレームワーク「Sinatra」に近いようです。
まぁRubyは触った事が無いんで、Sinatraもわかりません。。。</p>

<p>近いうちにwebsocketを使ったchatではない、何かアプリを作りたいなぁなんて思ってます。</p>
]]></content>
  </entry>
  
</feed>
